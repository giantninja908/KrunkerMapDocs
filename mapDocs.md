# welcome to map documentation for krunker

krunker map format is in JSON, with the master object having properties

### TODO

a lot lol
- ENVIRONMENT:
  - weather options
  - render options
  - light intensity
  - embient intensity
  - ambient sound
  - cloud texture
- ~~terrain (all)~~
- ~~zone~~
  - ~~enabled~~
  - ~~speed~~
  - ~~random endpoint~~
  - ~~top middle bottom color~~
  - ~~style~~
  - ~~height~~
- ~~ocean~~ info thanks to MinecraftRedstoner
  - ~~enabled~~
  - ~~water color~~
  - ~~opacity~~
  - ~~distortion~~
  - ~~wave speed~~
  - ~~y offset~~
  - ~~reflection resolution~~
  - ~~width~~
  - ~~length~~
- scripts (when those come out)
- gui


### format

`colors` are represented as either hex strings or decimal encoded numbers
`booleans` are either 0 or 1, not true or false
`asset` these are really just numbers, but are integrated within the krunker asset marketplace
basic JSON knowledge is reccomended for this guide

### basic properties

- `name`: name of the map
- `ambient`: ambient color of the map  (affects all) 
- `sky`: color of the sky, can be solid color (#ffffff)
  - alternatively a the `skyDome` property can be set, which allows for a gradient with the following properties:
  - `skyDomeCol0`: color of the top of the sky dome
  - `skyDomeCol1`: center color
  - `skyDomeCol2`: bottom color
  - note that when `skyDome` is set that you still need to provide a `sky` color in practice
  - TODO: add cloud texture elements of sky
- `ocean` (type: bool): this determines if the ocean is enabled or not (true being enabled)
- `ocCol` (type: string): this determines the water color ("#001e0f" being the default)
- `ocOpac` (type: number): this determines the opacity of the water (0.9 being the default value)
- `ocDist` (type: number): this determines the distortion of the water (aka how distorted the water and anything being reflected in the water is; the default value is 3.7)
- `ocSpd` (type: number): this determines how fast the waves in the water travel (1 being the default speed)
- `ocYOff` (type :number): this determines the y position of the ocean in your map (-1 being the default value)
- `ocRefRes` (type: number): this determines the reflection resolution of the water. The value of this element corresponds to a value in a list of resolutions (the list's indices start at 1). The list is as following: 32, 64, 128, 256, 1024, 2048. The default value is 3, or 128 resolution.
- `ocW` (type: number): this determines the width of the ocean (the default value is 1000)
- `ocL` (type: number): this determines the length of the ocean (the default value is 1000)
- `terrainSeed` (type: string): terrain seed of the map (seeds are codes that the game uses to generate terrain). This property also determines whether there is terrain or not ("" means no terrain, "something" means there is terrain). Also, if this property is unfulfilled then none of the following properties will appear in the map code.
- `terrainTSeed` (type: string): tree seed of the map (this seed is used to generate trees on the terrain). This property also determines whether there are trees on the terrain or not ("" means no trees, "something" means there are trees)
- `terrainWidth` (type: number): this determines the width of the terrain (default value is 3000)(range: 0-8000)
- `terrainHeight` (type: number): this determines the length of the terrain (default value is 3000)(range: 0-8000)
- `terrainMntMlt` (type: number): this determines the height of the terrain (default value is 1)(range: 0-5)
- `terrainMntCol` (type: string): this determines the color of the mountains (default value is "#707070")
- `terrainSnwCol` (type: string): this determines the color of the snow (default value is "#e8fdff")
- `terrainGrsCol` (type: string): this determines the color of the grass (default value is "#5e692f")
- `terrainDrtCol` (type: string): this determines the color of the dirt (default value is "#7f6238")
- `terrainSndCol` (type: string): this determines the color of the sand (default value is "#967f51")
- `terrainEase` (type: number): this determines the terrain's easing. The value of this element corresponds to a value in a list of easing types (the list's indices start at 0). The list is as following: linear, easeInQuad, easeOutQuad, easeInOutQuad, easeInCubic, easeOutCubic, easeInOutCubic, easeInQuart, easeOutQuart, easeInOutQuart, easeInQuint, easeOutQuint, easeInOutQuint. (the default value is 12, or easeInOutQuint)
- `sizeMlt` (type: number): unknown (default value is 2)
- `zone` (type: bool): this determines if the zone is enabled or not (true being enabled)
- `zoneSize` (type: number): this determines the size of the zone (the default value is 500)
- `zoneHeight` (type: number): this determines the height of the zone (the default value is 1000). Note that this property doesn't show up in the map code if its value is 1000 (the default value)
- `zoneSpeed` (type: number): this determines the speed of the zone (how fast it shrinks)(the default value is 1)
- `zoneRnd` (type: bool): this determines if the zone will have a random endpoint (the default value is false)
- `zoneCol0` (type: string): this determines the color of the top of the zone (the default color is "#c542d9")
- `zoneCol1` (type: string): this determines the color of the middle of the zone (the default color is "#c542d9")
- `zoneCol2` (type: string): this determines the color of the bottom of the zone (the default color is "#c542d9")
- `fog`: color of the fog that shows up for objects far away
- `fogD`: distance away from the player in which the fog appears
- `light`: there is a directional light that can be colored
  - on top of this, there are two properties for changing the angle at which the light points at
  - `sunAngX`: X angle of the sun
  - `sunAngY`: Y angle of the sun
  - there is no Z angle 
- `xyz`: this relates to the `objects` property, it's a multiple of 3 list that has the scales for each object, the object of `si` of 0 would use the first 3, object of `si` 1 would use the 2nd three, etc
- `colors`: simular to `xyz` except instead of `si` it uses `ci` for color index or `ei` for emissive index to point to a value here, with each being 1 `color` value
- `spawns`: this contains a list of lists (`[[0,0,0,0,0,0]]`) which are for spawns
  - first three numbers dictate position
  - next number dictates team, 0 is default/everyone with 1,2,3,4 being to their respective teams
  - next number is direction facing, either being 0 1 2 or 3 for the 4 possible directions
  - last number dictates team only
  - there can be multiple spawns in a singular map, example: `[[3,4,5,1,2,1], [-11,40,12,0,3,0]]`
- `objects`: this contains a list of objects, majority of properties are optional, but required for certain functions, this is a list of objects, which means it takes the form of `[{}]`, each individual object can have the following properties:

## object specific properties
- `p` (type: `list`): this contains a 3 point list of where it's located, position
- `si` (type: `number`): scale index, this and `p` are the only required properties
- `r` (type: `list`): 3 point list of rotation in RADIANS (not degrees, even if anti-radians is turned on) maximum of 2 decimals of precision normally used, default: [0,0,0]
- `v` (type: `boolean`): this determines if it's INVISIBLE (1 being invisible) default: 0
- `l` (type: `boolean`): this determines whether it's non collidable, 0 being collidable and 1 being not, default: 0
- `pe` (type: `number`): from 0-1, how penetrable a bullet can go through it, 1 being no damage reduction and 0 being not at all, default 0
- `wj` (type: `boolean`): this determines whether you cannot wall jump off of it, 0 being you can, 1 can't, default: 0
- `gp` (type: `boolean`): this determines whether you can not grapple onto a surface, 0 being you can, default: 0
- `bo` (type: `boolean`): this property marks the object as border, this means that if `disable border` option in game hosting is turned on, it won't collide/show, default: 0
- `t` (type: `number`): this dictates texture of an object: the following mapping can be used: default: 0 (note that under each are the variants, see `tv` for more info)
  - 0: stone
    - 0: default
    - 1: classic
    - 2: light
  - 1: dirt
    - 0: default
    - 1: classic
  - 2: wood
    - 0: default
    - 1: classic
  - 3: grid
  - 4: grey
  - 5: default
  - 6: roof
    - 0: default
    - 1: classic
  - 7: flag
    - 0: default
    - 1: classic
    - 2: classic alt
  - 8: grass
  - 9: check
  - 10: lines
    - 0: default
    - 1: thick
  - 11: brick
    - 0: default
    - 1: classic
    - 2: classic alt
  - 12: link
  - 13: liquid
  - 14: grain
  - 15: fabric
  - 16: tile
- `tv` (type: `number`): texture variant, for the index of each variant, see above under each texture that has them, default: 0
- `at` (type: `asset`): texture asset to use, default: 0
- `tsr` (type: `boolean`): whether to streth the texture, default: 0
- `tsm` (type: `number`): scale of the texture, default: 0 (if 0, don't scale)
- `ft` (type: `boolean`): whether to force transparency of an object, default: 0
- `tro` (type: `number`): in radians, how much to rotate the texture, default: 0
- `tox` (type: `number`): from 0 to 1, how much to offset the texture on the X axis, default: 0
- `toy` (type: `number`): from 0 to 1, how much to offset the texture on the Y axis, default: 0
- `ts` (type: `number`): texture speed along the `td` axis, default: 0
- `td` (type: `number`): texture direction, 0 for X and 1 for Y, default: 0
- `fct` (type: `number`): frame count of an animated texture, default: 1
- `fs` (type: `number`): frame speed of an animated texture, default: 0
- `ten` (type: `number`): texture encoding, default 0, mapped to the following values: default 0
  - 0: Linear encoding
  - 1: sRGB encoding
  - 2: Gamma encoding
  - 3: RGBE encoding
  - 4: Log Luv Encoding
  - 5: RGBM7 encoding
  - 6: RGBM16 Encoding
  - 7: RGBD Encoding
  - 8: basic depth packing
  - 9: RGBA depth packing
- `ci` (type: `number`): color index, see `colors` property of basic data, default NULL
- `ei` (type: `number`): emissive index, points to an index of the `colors` property of the map, default NULL
- `o` (type: `number`): value of 0 to 1 which determines the opacity of the object, default 1
- `ab` (type: `boolean`): if 1, disable shading, default 0
- `ba` (type: `number`): this is the amount of subdivisions the mesh has, note that more means the object has more tris, and as such takes longer to render, default 0
- `nf` (type: `boolean`): **n**o **f**og, if enabled, the object is not affected by fog, default 0
- `cdy` (type: `boolean`): if enabled, this object can be detroyed, default 0
- `h` (type: `number`): health of an object, default 0 (invicible)
- `sd` (type: `boolean`): start destroyed, default 0
- `rt` (type: `number`): respawn time, time between destroyed and when it spawns again, default 0 (never)
- `s` (type: `list`): in the event that `si` is not used, you can use `s` to indicate scale of an individual object instead of indexing it
- `c` (type: `color`): in the event that `ci` is not used, `c` alone can be used to demonstrate the color of an object
- `e` (type: `color`): in the event that `ei` is not used, `e` alone can represent a color
- `rr` (type: `boolean`): random respawn, if enabled, respawn at a random time
- `in` (type: `number`): interface ID to use, (used with triggers)
- `f` (type: `hex`): enabled faces in hexedecimal as string format, add the following per each enabled and convert it to hex for this property:
  - front: 1
  - back: 2
  - bottom: 4
  - top: 8
  - left: 16
  - right: 32

##### this marks the all the information you can find in a cube, the remaining is special objects

- `i` (type: `number`): this is an important value for non-cube objects, the list of objects they refer to are: default 0, or cube, underneath each item is the types of values they can hold
  - 1: crate
    - `v`, `l`, `wj`, `gp`, `spn`, `spa`, `ms`, `p`, `r`, `tv`, `ten`, `c`, `ci`, `o`, `ab`, `ba`, `cdy`, `sd`, `h`, `in`
    - note: `tv` for crate is 0: default, 1: minimuliustic
  - 2: barrel
    - `v`, `l`, `wj`, `gp`, `spn`, `spa`, `ms`, `p`, `r`, `tv`, `ten`, `c`, `ci`, `o`, `ab`, `ba`, `cdy`, `sda`, `h`, `rt`, `rr`, `in`
    - note: `tv` for barrel is 0: default, 1: classic 2018, 2: classic 2018 alt, 3: classic 2019
  - 3: ladder
    - `v`, `l`, `d`, `p`, `r`, `s`, `si`, `t`, `tv`, `at`, `tsr`, `tsm`, `ft`, `tro`, `tox`, `toy`, `ten`, `c`, `ci`, `o`, `ab`, `ba`
  - 4: plane
    - `v`, `l`, `pe`, `p`, `r`, `s`, `si`, `t`, `tv`, `at`, `tsr`, `tsm`, `ft`, `tro`, `tox`, `toy`, `ts`, `td`, `fct`, `fs`, `ten`, `c`, `ci`, `e`, `ei`, `o`, `ab`, `ba`, `cdy`, `sd`, `h`, `rt`, `rr`, `in`
  - 5: spawn point (legacy, see `spawns`)
    - `p`, `r`, `d`, `tm`, `cp`, `to`
  - 6: camera position
    - `p`, `r`, `cstc`
  - 7: vehicle
    - `v`, `l`, `wl`, `gp`, `spn`, `spa`, `ms`, `p`, `r`, `ten`, `c`, `ci`, `o`, `ba`, `cdy`, `sd`, `h`, `rt`, `rr`, `in`
  - 8: stack
    - `v`, `l`, `wl`, `gp`, `spn`, `spa`, `ms`, `p`, `r`, `ten`, `c`, `ci`, `o`, `ab`, `ba`, `cdy`, `sd`, `h`, `rt`, `rr`, `in`
  - 9: ramp
    - `v`, `l`, `b`, `d`, `ec`, `p`, `r`, `s`, `si`, `t`, `tv`, `at`, `tsr`, `tsm`, `ft`, `tro`, `tox`, `toy`, `ts`, `td`, `fct`, `fs`, `ten`, `c`, `ci`, `e`, `ei`, `o`, `ab`, `ba`
  - 10: score zone (zone in which you can enter to get score)
    - `p`, `r`, `s`, `si`, `l`, `sp`
  - 11: billboard
    - `v`, `l`, `wl`, `gp`, `p`, `r`, `s`, `si`, `ten`, `ab`, `cdy`, `sd`, `h`, `rt`, `rr`, `in`, `bb`, `sad`
  - 12: death zone
    - `p`, `r`, `s`, `si` 
  - 13: particles
    - `d`, `p`, `r`, `s`, `si`, `ten`, `c`, `ci`, `pr`, `pb`, `pc`, `ps`, `psc`, `psp`, `pd`, `pg`
  - 14: objective
    - `p`, `r`, `s`, `si`
  - 15: tree
    - `v`, `l`, `wj`, `gp`, `spn`, `spa`, `ms`, `p`, `r`, `tv`, `ten`, `o`, `ba`, `cdy`, `sd`, `h`, `rt`, `rr`, `in`
    - texture variants for tree are `default` and `classic` being 0 and 1 respectively
  - 16: cone
    - `v`, `l`, `wj`, `gp`, `spn`, `spa`, `ms`, `p`, `r`, `ten`, `c`, `ci`, `o`, `cdy`, `sd`, `h`, `rt`, `rr`, `in`
  - 17: Container (blue)
    - `v`, `l`, `wj`, `gp`, `spn`, `spa`, `ms`, `p`, `r`, `ten`, `c`, `ci`, `o`, `ab`, `ba`, `cdy`, `sd`, `h`, `rt`, `rr`, `in`
  - 18: grass
    - `v`, `l,` `spn`, `spa`, `ms`, `p`, `r`, `ten`, `c`, `ci`, `o`, `cdy`, `sd`, `h`, `rt`, `rr`, `in`
  - 19: Container (red)
  - 20: acid barel
  - 21: door
  - 22: window
  - 23: flag
  - 24: gate
  - 25: checkpoint
  - 26: weapon pickup
  - 27: teleporter
  - 28: teddy bear
  - 29: trigger
  - 30: sign
  - 31: deposit box
  - 32: light cone
  - 33: camera (spectate or player)
  - 34: sphere
  - 35: placeholder
  - 36: cardboard box
  - 37: pallet
  - 38: liquid
  - 39: sound emitter
  - 40: none/not used
  - 41: none/not used
  - 42: premium zone
  - 43: verified zone
  - 44: custom asset
  - 45: bomb site
  - 46: bounce pad
  - 47: team zone
  - 48: cyllinder
  - 49: police
  - 50: criminal in cage
  - 51: explosive barrel
  - 52: skin showcase
  - 53: point light
  - 54: ghost
  - 55: ai spawner
  - 56: pumpkin
  - 57: rune
  - 58: skeleton
  - 59: knight
- `spn` (type: `number`): how much to spin a model by, default 0
- `sad` (type: `boolean`): indeed sad, it's for showing ads on a billboard (`i` of 11), default 0
- `bb` (type: `number`): billboard poster number, the following are valid values: default 0, or random
  - 1: Krunkie Loan service
  - 2: japanese billboard (TRANSLATION NEEDED)
  - 3: SoonTM billboard
  - 4: "be like joe" anti-hack message
  - 5: moomoo.io advertisement
- `spa` (type: `number`): spin axis, 0 being Y and 1 being X, default 0
- `ms` (type: `number`): model scale, default 1
- `d` (type: `number`): direction of an object, 0 1 2 or 3, default 0
- `tm` (type: `number`): team number for a spawn point, default 0 or no team
- `cp` (type: `boolean`): stating area for spawn point, default 0 or not
- `to` (type: `boolean`): team only for spawn point, default 0
- `cstc` (type: `boolean`): static camera, default 0
- `b` (type: `number`): ramp boost property, default 0
- `ec` (type: `boolean`): whether or not to enclose the ramp/make is solid, default 0
- `l` (type: `boolean`): unknown value
- `sp` (type: `number`): score points, default 0
- `pr` (type: `number`): index to a list of possible particles to emit, [Default, Grass, Fog, Ember] being the list, default 0
- `pb` (type: `number`): particle blending, index of a list of [Normal, Additive, Subtractive, Multiply], default of 0
- `pc` (type: `number`): particle count, default 0
- `ps` (type: `number`): particle size, default 0
- `psc` (type: `number`): particle scale, default 0
- `psp` (type: `number`): particle speed, default 0
- `pd` (type: `number`): particle deceleration, default 0
- `pg` (type: `number`): particle gravity, default 0
